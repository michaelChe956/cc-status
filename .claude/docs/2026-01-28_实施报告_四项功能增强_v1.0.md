# 2026-01-28_å®æ–½æŠ¥å‘Š_å››é¡¹åŠŸèƒ½å¢å¼º_v1.0

## æ¦‚è¿°

æœ¬æŠ¥å‘Šè®°å½•äº† cc-statusline é¡¹ç›®å››é¡¹åŠŸèƒ½å¢å¼ºçš„å®æ–½æƒ…å†µã€‚

**å®æ–½æ—¥æœŸ**: 2026-01-28
**ç‰ˆæœ¬**: 0.2.0

---

## åŠŸèƒ½ä¸€ï¼šå‘å¸ƒåˆ° PyPI âœ…

### ç›®æ ‡
å¯ç”¨çœŸæ­£çš„ uvx ä¸€é”®å®‰è£…åŠŸèƒ½ï¼Œå°†é¡¹ç›®å‘å¸ƒåˆ° PyPIã€‚

### å®æ–½å†…å®¹

#### 1. ä¿®å¤ç‰ˆæœ¬å·ä¸ä¸€è‡´
- **æ–‡ä»¶**: `pyproject.toml`
- **æ›´æ”¹**: ç‰ˆæœ¬å·ä» 0.1.0 å‡çº§åˆ° 0.2.0ï¼Œä¸ `__init__.py` ä¿æŒä¸€è‡´

#### 2. å®Œå–„ pyproject.toml
- å‡çº§å¼€å‘çŠ¶æ€: `Alpha` â†’ `Beta`
- æ·»åŠ åˆ†ç±»æ ‡ç­¾: `Environment :: Console`, `Operating System :: OS Independent`, `Topic :: Software Development`
- å®Œå–„é¡¹ç›® URLs: æ·»åŠ  `Documentation`, `Issues`, ä¼˜åŒ– `Repository`

#### 3. åˆ›å»ºå‘å¸ƒè„šæœ¬
- **æ–‡ä»¶**: `scripts/publish.sh`
- **åŠŸèƒ½**:
  - æ¸…ç†æ—§æ„å»ºæ–‡ä»¶
  - æ„å»ºåˆ†å‘åŒ… (`python -m build`)
  - æ£€æŸ¥åˆ†å‘åŒ…è´¨é‡ (`twine check`)
  - æä¾›å‘å¸ƒæŒ‡å—ï¼ˆTestPyPI â†’ PyPIï¼‰

#### 4. æ·»åŠ  GitHub Actions CI
- **æ–‡ä»¶**: `.github/workflows/publish.yml`
- **åŠŸèƒ½**:
  - è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ
  - æ”¯æŒæ‰‹åŠ¨è§¦å‘ï¼ˆworkflow_dispatchï¼‰
  - æ”¯æŒ TestPyPI å’Œ PyPI ä¸¤ç§ç¯å¢ƒ
  - ä½¿ç”¨ GitHub Secrets ç®¡ç† API Token

### éªŒè¯ç»“æœ
```bash
# æœ¬åœ°æ„å»ºæˆåŠŸ
python -m build
twine check dist/*

# æ‰€æœ‰åˆ†å‘åŒ…éªŒè¯é€šè¿‡
```

---

## åŠŸèƒ½äºŒï¼šå¢å¼ºéªŒè¯åŠŸèƒ½ âœ…

### ç›®æ ‡
æä¾›æ›´å…¨é¢çš„é…ç½®éªŒè¯å’Œå¥åº·æ£€æŸ¥åŠŸèƒ½ã€‚

### å®æ–½å†…å®¹

#### 1. å¢å¼º verify æ–¹æ³•
- **æ–‡ä»¶**: `src/cc_statusline/config/installer.py`
- **æ–°å¢å‚æ•°**:
  - `verbose`: æ˜¾ç¤ºè¯¦ç»†éªŒè¯ä¿¡æ¯
  - `test_command`: æµ‹è¯•å‘½ä»¤æ‰§è¡Œ

- **éªŒè¯é¡¹ç›®**:
  1. é…ç½®æ–‡ä»¶å­˜åœ¨æ€§
  2. JSON æ ¼å¼æœ‰æ•ˆæ€§
  3. statusLine é…ç½®å­˜åœ¨æ€§
  4. å¿…éœ€å­—æ®µå®Œæ•´æ€§
  5. type å­—æ®µæ­£ç¡®æ€§
  6. å‘½ä»¤è·¯å¾„æœ‰æ•ˆæ€§
  7. å‘½ä»¤å¯æ‰§è¡Œæ€§æµ‹è¯•ï¼ˆå¯é€‰ï¼‰

#### 2. æ–°å¢ health_check æ–¹æ³•
- **åŠŸèƒ½**: è¿”å›å®Œæ•´çš„å¥åº·æ£€æŸ¥æŠ¥å‘Šï¼ˆå­—å…¸æ ¼å¼ï¼‰
- **æŠ¥å‘Šå†…å®¹**:
  - config_exists
  - config_valid
  - statusline_exists
  - command_found
  - command_executable
  - version
  - details (è¯¦ç»†ä¿¡æ¯)

#### 3. æ–°å¢ test_command æ–¹æ³•
- **åŠŸèƒ½**: æµ‹è¯•çŠ¶æ€æ å‘½ä»¤èƒ½å¦æ­£å¸¸æ‰§è¡Œ
- **æµ‹è¯•æ–¹å¼**: è¿è¡Œ `--version` å‘½ä»¤æ£€æŸ¥è¿”å›ç 

#### 4. æ‰©å±• CLI å‘½ä»¤
- **æ–‡ä»¶**: `src/cc_statusline/cli/commands.py`
- **æ–°å¢å‚æ•°**:
  - `--verbose / -v`: è¯¦ç»†éªŒè¯ä¿¡æ¯
  - `--test`: æµ‹è¯•å‘½ä»¤æ‰§è¡Œ
  - `--health`: å®Œæ•´å¥åº·æ£€æŸ¥æŠ¥å‘Š

### ä½¿ç”¨ç¤ºä¾‹

```bash
# æ ‡å‡†éªŒè¯
cc-statusline verify

# è¯¦ç»†éªŒè¯
cc-statusline verify --verbose

# æµ‹è¯•å‘½ä»¤æ‰§è¡Œ
cc-statusline verify --test

# å®Œæ•´å¥åº·æ£€æŸ¥
cc-statusline verify --health
```

### è¾“å‡ºç¤ºä¾‹

```
ğŸ” cc-statusline å¥åº·æ£€æŸ¥æŠ¥å‘Š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… é…ç½®æ–‡ä»¶: /Users/xxx/.claude/settings.json
âœ… é…ç½®æ ¼å¼: JSON æœ‰æ•ˆ
âœ… çŠ¶æ€æ é…ç½®: å·²é…ç½®
âœ… å‘½ä»¤è·¯å¾„: uvx cc-statusline --once --theme modern
âœ… å‘½ä»¤æ‰§è¡Œ: æµ‹è¯•é€šè¿‡
â„¹ï¸  ç‰ˆæœ¬: 0.2.0
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
çŠ¶æ€: å¥åº· âœ…
```

---

## åŠŸèƒ½ä¸‰ï¼šé…ç½®è¿ç§»åŠŸèƒ½ âœ…

### ç›®æ ‡
æ”¯æŒé…ç½®çš„å¯¼å…¥ã€å¯¼å‡ºå’Œç‰ˆæœ¬è¿ç§»ï¼Œæ–¹ä¾¿ç”¨æˆ·åœ¨ä¸åŒç¯å¢ƒé—´åŒæ­¥é…ç½®ã€‚

### å®æ–½å†…å®¹

#### 1. æ–°å¢å¯¼å‡ºåŠŸèƒ½
- **æ–¹æ³•**: `ClaudeConfigInstaller.export_config()`
- **æ–‡ä»¶æ ¼å¼**: YAML
- **åŒ…å«å†…å®¹**:
  - version: å½“å‰ç‰ˆæœ¬å·
  - exported_at: å¯¼å‡ºæ—¶é—´æˆ³
  - statusLine: å®Œæ•´é…ç½®

#### 2. æ–°å¢å¯¼å…¥åŠŸèƒ½
- **æ–¹æ³•**: `ClaudeConfigInstaller.import_config()`
- **å®‰å…¨æœºåˆ¶**:
  - ç°æœ‰é…ç½®æ£€æŸ¥
  - å¼ºåˆ¶è¦†ç›–é€‰é¡¹ï¼ˆ`--force`ï¼‰
  - è‡ªåŠ¨å¤‡ä»½åŸé…ç½®

#### 3. æ–°å¢ç‰ˆæœ¬æŸ¥è¯¢
- **æ–¹æ³•**: `ClaudeConfigInstaller.get_config_version()`
- **åŠŸèƒ½**: è¿”å›å½“å‰é…ç½®å¯¹åº”çš„åŒ…ç‰ˆæœ¬

#### 4. æ·»åŠ  CLI å­å‘½ä»¤
- **export å‘½ä»¤**:
  - ä½ç½®å‚æ•°: `path` (å¯¼å‡ºè·¯å¾„)
  - é€‰é¡¹: `--no-metadata` (ä¸åŒ…å«å…ƒæ•°æ®)

- **import å‘½ä»¤**:
  - ä½ç½®å‚æ•°: `path` (å¯¼å…¥è·¯å¾„)
  - é€‰é¡¹: `--force` (å¼ºåˆ¶è¦†ç›–)

### ä½¿ç”¨ç¤ºä¾‹

```bash
# å¯¼å‡ºé…ç½®
cc-statusline export ./my-config.yaml

# å¯¼å‡ºé…ç½®ï¼ˆä¸å«å…ƒæ•°æ®ï¼‰
cc-statusline export ./my-config.yaml --no-metadata

# å¯¼å…¥é…ç½®
cc-statusline import ./my-config.yaml

# å¼ºåˆ¶å¯¼å…¥è¦†ç›–
cc-statusline import ./my-config.yaml --force
```

### é…ç½®æ–‡ä»¶æ ¼å¼

```yaml
version: "0.2.0"
exported_at: "2026-01-28T17:30:00"
statusLine:
  type: command
  command: "uvx cc-statusline --once --theme modern"
  refreshInterval: 10000
  padding: 0
```

---

## åŠŸèƒ½å››ï¼šäº¤äº’å¼å®‰è£… âœ…

### ç›®æ ‡
æä¾›ç”¨æˆ·å‹å¥½çš„äº¤äº’å¼é…ç½®å‘å¯¼ï¼Œå¼•å¯¼å¼é…ç½®ä½“éªŒã€‚

### å®æ–½å†…å®¹

#### 1. åˆ›å»ºäº¤äº’å¼å®‰è£…æ¨¡å—
- **æ–‡ä»¶**: `src/cc_statusline/config/interactive.py`
- **ç±»**: `InteractiveInstaller`

#### 2. å®ç°äº¤äº’æµç¨‹
- **æ­¥éª¤ 1/3**: ä¸»é¢˜é€‰æ‹©
  - åˆ—å‡ºæ‰€æœ‰å¯ç”¨ä¸»é¢˜
  - æ”¯æŒä¸»é¢˜åç§°æˆ–åºå·è¾“å…¥
  - å®æ—¶é¢„è§ˆé€‰æ‹©çš„ä¸»é¢˜

- **æ­¥éª¤ 2/3**: åˆ·æ–°é—´éš”é…ç½®
  - æä¾›æ¨èå€¼ï¼ˆ5s/10s/30sï¼‰
  - è¾“å…¥éªŒè¯ï¼ˆ1000-60000msï¼‰

- **æ­¥éª¤ 3/3**: ç¡®è®¤å®‰è£…
  - æ˜¾ç¤ºé…ç½®æ‘˜è¦
  - ç¡®è®¤åæ‰§è¡Œå®‰è£…

#### 3. åŠŸèƒ½ç‰¹æ€§
- ä½¿ç”¨ `prompt_toolkit` å®ç°
- æ”¯æŒ Tab è¡¥å…¨ï¼ˆä¸»é¢˜åç§°ï¼‰
- è¾“å…¥éªŒè¯å’Œé”™è¯¯æç¤º
- æ”¯æŒ `q` é”®å–æ¶ˆæ“ä½œ
- ä¸»é¢˜å®æ—¶é¢„è§ˆ

#### 4. CLI é›†æˆ
- **å‚æ•°**: `--interactive` / `-i`
- **ä½¿ç”¨**: `cc-statusline install --interactive`

### ä½¿ç”¨ç¤ºä¾‹

```bash
# å¯åŠ¨äº¤äº’å¼å®‰è£…
cc-statusline install --interactive
```

### äº¤äº’æµç¨‹ç¤ºä¾‹

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¨ cc-statusline äº¤äº’å¼å®‰è£…å‘å¯¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ æ­¥éª¤ 1/3: é€‰æ‹©ä¸»é¢˜
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

å¯ç”¨ä¸»é¢˜:
  1. default
  2. modern
  3. minimal

è¯·è¾“å…¥ä¸»é¢˜åç§°æˆ–åºå· (é»˜è®¤: modern, q å–æ¶ˆ): 2

ğŸ¨ ä¸»é¢˜é¢„è§ˆ: modern
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ• 17:30:25 | ğŸ“Š 2 MCPs
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“‹ æ­¥éª¤ 2/3: é…ç½®åˆ·æ–°é—´éš”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æ¨èå€¼:
  5000ms  - å¿«é€Ÿåˆ·æ–°ï¼ˆ5ç§’ï¼‰
  10000ms - æ ‡å‡†åˆ·æ–°ï¼ˆ10ç§’ï¼Œæ¨èï¼‰
  30000ms - æ…¢é€Ÿåˆ·æ–°ï¼ˆ30ç§’ï¼‰

è¯·è¾“å…¥åˆ·æ–°é—´éš”(ms) (1000-60000, é»˜è®¤: 10000, q å–æ¶ˆ): 10000

ğŸ“‹ æ­¥éª¤ 3/3: ç¡®è®¤é…ç½®
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

é…ç½®æ‘˜è¦:
  ä¸»é¢˜: modern
  åˆ·æ–°é—´éš”: 10000ms

ç¡®è®¤å®‰è£…? (Y/n): Y

ğŸš€ å¼€å§‹å®‰è£…...
âœ… çŠ¶æ€æ é…ç½®å·²å®‰è£…
å‘½ä»¤: uvx cc-statusline
ä¸»é¢˜: modern
åˆ·æ–°é—´éš”: 10000ms

é‡å¯ Claude Code ä»¥åº”ç”¨æ›´æ”¹

âœ… å®‰è£…å®Œæˆï¼

ä¸‹ä¸€æ­¥:
  1. é‡å¯ Claude Code ä»¥åº”ç”¨æ›´æ”¹
  2. ä½¿ç”¨ 'cc-statusline verify --health' éªŒè¯é…ç½®
```

---

## ä¾èµ–æ›´æ–°

é¡¹ç›®æ–°å¢ä¾èµ–ï¼š
- `pyyaml>=6.0` - ç”¨äº YAML é…ç½®æ–‡ä»¶çš„å¯¼å…¥/å¯¼å‡º

---

## ä»£ç è´¨é‡

### æ ¼å¼åŒ–å’Œæ£€æŸ¥
```bash
# ä»£ç æ ¼å¼åŒ–
black src/ tests/
# ç»“æœ: 1 file reformatted, 26 files left unchanged

# ä»£ç è§„èŒƒæ£€æŸ¥
ruff check src/ tests/
# ç»“æœ: All checks passed!

# ç±»å‹æ£€æŸ¥
mypy src/
# ç»“æœ: Success: no issues found in 21 source files
```

### æµ‹è¯•ç»“æœ
```bash
pytest tests/ -v
# ç»“æœ: 19 passed in 9.63s
# è¦†ç›–ç‡: 23%
```

---

## æ–‡ä»¶å˜æ›´æ¸…å•

| æ–‡ä»¶ | æ“ä½œ | åŠŸèƒ½ |
|------|------|------|
| `pyproject.toml` | ä¿®æ”¹ | 1 - ç‰ˆæœ¬å·ã€åˆ†ç±»æ ‡ç­¾ã€URLs |
| `scripts/publish.sh` | æ–°å»º | 1 - å‘å¸ƒè„šæœ¬ |
| `.github/workflows/publish.yml` | æ–°å»º | 1 - CI/CD å·¥ä½œæµ |
| `src/cc_statusline/config/installer.py` | ä¿®æ”¹ | 2, 3 - å¢å¼ºéªŒè¯ã€å¯¼å…¥å¯¼å‡º |
| `src/cc_statusline/config/interactive.py` | æ–°å»º | 4 - äº¤äº’å¼å®‰è£… |
| `src/cc_statusline/config/__init__.py` | ä¿®æ”¹ | 4 - å¯¼å‡º InteractiveInstaller |
| `src/cc_statusline/cli/commands.py` | ä¿®æ”¹ | 2, 3, 4 - CLI æ‰©å±• |

---

## ä¸‹ä¸€æ­¥è®¡åˆ’

### å‘å¸ƒåˆ° PyPI
1. é…ç½® PyPI API Token
2. æµ‹è¯•å‘å¸ƒåˆ° TestPyPI
3. æ­£å¼å‘å¸ƒåˆ° PyPI
4. éªŒè¯ uvx å®‰è£…

### éªŒè¯å‘½ä»¤
```bash
# TestPyPI æµ‹è¯•
twine upload --repository testpypi dist/*
uvx --index-url https://test.pypi.org/simple/ cc-statusline --version

# æ­£å¼å‘å¸ƒ
twine upload dist/*
uvx cc-statusline install --interactive
```

---

## æ€»ç»“

âœ… **åŠŸèƒ½ä¸€ï¼šå‘å¸ƒåˆ° PyPI** - å·²å®Œæˆï¼Œå‡†å¤‡å‘å¸ƒ
âœ… **åŠŸèƒ½äºŒï¼šå¢å¼ºéªŒè¯åŠŸèƒ½** - å·²å®Œæˆï¼Œæµ‹è¯•é€šè¿‡
âœ… **åŠŸèƒ½ä¸‰ï¼šé…ç½®è¿ç§»åŠŸèƒ½** - å·²å®Œæˆï¼Œæµ‹è¯•é€šè¿‡
âœ… **åŠŸèƒ½å››ï¼šäº¤äº’å¼å®‰è£…** - å·²å®Œæˆï¼Œæµ‹è¯•é€šè¿‡

æ‰€æœ‰å››é¡¹åŠŸèƒ½å‡å·²æˆåŠŸå®æ–½ï¼Œä»£ç è´¨é‡æ£€æŸ¥å…¨éƒ¨é€šè¿‡ï¼Œæµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ã€‚é¡¹ç›®å·²å‡†å¤‡å¥½å‘å¸ƒåˆ° PyPIã€‚
