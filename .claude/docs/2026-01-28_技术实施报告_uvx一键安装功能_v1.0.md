# uvx ä¸€é”®å®‰è£…åŠŸèƒ½å®æ–½å®ŒæˆæŠ¥å‘Š

**æ–‡æ¡£ç±»å‹**: æŠ€æœ¯å®æ–½æŠ¥å‘Š
**ç‰ˆæœ¬**: v1.0
**æ—¥æœŸ**: 2026-01-28
**ä½œè€…**: Claude Sonnet 4.5

## å®æ–½æ¦‚è¿°

æˆåŠŸä¸º cc-statusline æ·»åŠ äº† uvx ä¸€é”®å®‰è£…é…ç½®åŠŸèƒ½ï¼Œæ”¯æŒï¼š
- `cc-statusline install` - è‡ªåŠ¨é…ç½® Claude Code çŠ¶æ€æ 
- `cc-statusline uninstall` - ç§»é™¤çŠ¶æ€æ é…ç½®
- `cc-statusline verify` - éªŒè¯çŠ¶æ€æ é…ç½®
- `cc-statusline` - æ­£å¸¸è¿è¡ŒçŠ¶æ€æ ï¼ˆä¿æŒç°æœ‰åŠŸèƒ½ï¼‰

## å®æ–½å†…å®¹

### 1. æ–°å»ºé…ç½®å®‰è£…å™¨æ¨¡å—

**æ–‡ä»¶**: `src/cc_statusline/config/installer.py`

**æ ¸å¿ƒåŠŸèƒ½**:
- `ClaudeConfigInstaller` ç±»å®ç°é…ç½®ç®¡ç†
- è¯»å–/å†™å…¥ `~/.claude/settings.json`
- æ™ºèƒ½åˆå¹¶é…ç½®ï¼ˆä¸è¦†ç›–å…¶ä»–å­—æ®µï¼‰
- è‡ªåŠ¨å¤‡ä»½åŸé…ç½®
- è‡ªåŠ¨æ£€æµ‹æœ€ä½³å‘½ä»¤è·¯å¾„ï¼ˆuvx / å…¨å±€å®‰è£… / æœ¬åœ°ï¼‰

**å…³é”®æ–¹æ³•**:
```python
install(force: bool, theme: str, interval: int) -> bool
uninstall() -> bool
verify() -> bool
detect_command() -> str
backup_config() -> Path
```

### 2. ä¿®æ”¹ CLI æ·»åŠ å­å‘½ä»¤

**æ–‡ä»¶**: `src/cc_statusline/cli/commands.py`

**æ”¹åŠ¨å†…å®¹**:
1. ä½¿ç”¨ `argparse.add_subparsers()` æ·»åŠ å­å‘½ä»¤æ”¯æŒ
2. æ–°å¢ `install` å­å‘½ä»¤åŠå‚æ•°ï¼ˆ--force, --theme, --intervalï¼‰
3. æ–°å¢ `uninstall` å­å‘½ä»¤
4. æ–°å¢ `verify` å­å‘½ä»¤
5. ä¿æŒå‘åå…¼å®¹ï¼ˆé»˜è®¤è¡Œä¸ºä¸å˜ï¼‰

**æ–°å¢å‡½æ•°**:
```python
cmd_install(args: argparse.Namespace) -> int
cmd_uninstall(args: argparse.Namespace) -> int
cmd_verify(args: argparse.Namespace) -> int
```

### 3. æ·»åŠ å…¨é¢æµ‹è¯•

**æ–‡ä»¶**: `tests/unit/test_installer.py`

**æµ‹è¯•è¦†ç›–**:
- é…ç½®è¯»å†™æµ‹è¯•ï¼ˆç©ºé…ç½®ã€å·²å­˜åœ¨é…ç½®ï¼‰
- é…ç½®å¤‡ä»½æµ‹è¯•
- å‘½ä»¤æ£€æµ‹æµ‹è¯•ï¼ˆuvxã€å…¨å±€ã€python -mï¼‰
- å®‰è£…æµç¨‹æµ‹è¯•ï¼ˆæˆåŠŸã€å¤±è´¥ã€å·²å­˜åœ¨ï¼‰
- å¸è½½æµç¨‹æµ‹è¯•
- éªŒè¯åŠŸèƒ½æµ‹è¯•

**æµ‹è¯•ç»“æœ**: âœ… 17/17 ä¸ªæµ‹è¯•é€šè¿‡ï¼Œè¦†ç›–ç‡ 86%

## éªŒè¯ç»“æœ

### ä»£ç è´¨é‡æ£€æŸ¥

```bash
# ä»£ç æ ¼å¼åŒ–
âœ… black --check src/ tests/
   All done! âœ¨ ğŸ° âœ¨

# ä»£ç æ£€æŸ¥
âœ… ruff check src/ tests/
   All checks passed!

# ç±»å‹æ£€æŸ¥
âœ… mypy src/
   Success: no issues found
```

### æµ‹è¯•ç»“æœ

```bash
# å•å…ƒæµ‹è¯•
âœ… pytest tests/unit/test_installer.py -v
   17 passed in 8.65s

# å®Œæ•´æµ‹è¯•å¥—ä»¶
âœ… pytest tests/ -v
   19 passed in 2.74s
```

### æ‰‹åŠ¨åŠŸèƒ½æµ‹è¯•

#### 1. å®‰è£…æµ‹è¯•
```bash
$ python -m cc_statusline install --theme modern --interval 5000 --force
âœ… å·²å¤‡ä»½åŸé…ç½®: /Users/.../.claude/settings.json.backup.20260128_165343
âœ… çŠ¶æ€æ é…ç½®å·²å®‰è£…
å‘½ä»¤: python -m cc_statusline
ä¸»é¢˜: modern
åˆ·æ–°é—´éš”: 5000ms

é‡å¯ Claude Code ä»¥åº”ç”¨æ›´æ”¹
```

#### 2. éªŒè¯æµ‹è¯•
```bash
$ python -m cc_statusline verify
âœ… çŠ¶æ€æ é…ç½®æœ‰æ•ˆ
{
  "type": "command",
  "command": "python -m cc_statusline --once --theme modern",
  "refreshInterval": 5000,
  "padding": 0
}
```

#### 3. å¸è½½æµ‹è¯•
```bash
$ python -m cc_statusline uninstall
âœ… å·²å¤‡ä»½åŸé…ç½®: /Users/.../.claude/settings.json.backup.20260128_165422
âœ… çŠ¶æ€æ é…ç½®å·²ç§»é™¤

é‡å¯ Claude Code ä»¥åº”ç”¨æ›´æ”¹
```

#### 4. å‘åå…¼å®¹æµ‹è¯•
```bash
$ python -m cc_statusline --version
cc-statusline 0.2.0

$ python -m cc_statusline --once --theme modern
âœ… æ­£å¸¸è¾“å‡ºçŠ¶æ€æ å†…å®¹
```

## é…ç½®æ–‡ä»¶ç¤ºä¾‹

### å®‰è£…åçš„ `~/.claude/settings.json`

```json
{
  "statusLine": {
    "type": "command",
    "command": "uvx cc-statusline --once --theme modern",
    "refreshInterval": 10000,
    "padding": 0
  }
}
```

## ç”¨æˆ·ä½¿ç”¨æµç¨‹

### å¼€å‘ç¯å¢ƒï¼ˆæœ¬åœ°å®‰è£…ï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your/cc-statusline.git
cd cc-statusline

# 2. å®‰è£…å¼€å‘ä¾èµ–
uv venv
source .venv/bin/activate
uv pip install -e ".[dev]"

# 3. å®‰è£…åˆ° Claude Code
python -m cc_statusline install

# 4. é‡å¯ Claude Code
claude

# 5. å¸è½½ï¼ˆå¦‚éœ€ï¼‰
python -m cc_statusline uninstall
```

### ç”Ÿäº§ç¯å¢ƒï¼ˆuvx æ–¹å¼ï¼Œå‘å¸ƒåï¼‰

```bash
# ä¸€é”®å®‰è£…
uvx cc-statusline install

# é‡å¯ Claude Code
claude

# å¸è½½
uvx cc-statusline uninstall
```

## æŠ€æœ¯ç»†èŠ‚

### å‘½ä»¤æ£€æµ‹ä¼˜å…ˆçº§

1. **uvx cc-statusline** (æœ€é«˜ä¼˜å…ˆçº§)
   - é€‚ç”¨åœºæ™¯: å‘å¸ƒåˆ° PyPI å
   - ä¼˜ç‚¹: è‡ªåŠ¨ç®¡ç†ä¾èµ–ï¼Œæ— éœ€æœ¬åœ°å®‰è£…

2. **cc-statusline** (å…¨å±€å®‰è£…)
   - é€‚ç”¨åœºæ™¯: pip install cc-statusline
   - ä¼˜ç‚¹: æ— éœ€ uvxï¼Œå‘½ä»¤ç®€çŸ­

3. **python -m cc_statusline** (æœ¬åœ°è™šæ‹Ÿç¯å¢ƒ)
   - é€‚ç”¨åœºæ™¯: å¼€å‘ç¯å¢ƒ
   - ä¼˜ç‚¹: ä½¿ç”¨å¼€å‘ä¸­çš„ç‰ˆæœ¬

### é…ç½®åˆå¹¶ç­–ç•¥

å®‰è£…å™¨é‡‡ç”¨**æ™ºèƒ½åˆå¹¶**ç­–ç•¥ï¼š
- åªä¿®æ”¹ `statusLine` å­—æ®µ
- ä¿ç•™å…¶ä»–é…ç½®å­—æ®µä¸å˜
- è‡ªåŠ¨å¤‡ä»½åŸé…ç½®æ–‡ä»¶

**ç¤ºä¾‹**:
```json
// å®‰è£…å‰
{
  "editor": {...},
  "terminal": {...}
}

// å®‰è£…å
{
  "editor": {...},
  "terminal": {...},
  "statusLine": {
    "type": "command",
    "command": "uvx cc-statusline --once",
    "refreshInterval": 10000,
    "padding": 0
  }
}
```

### å¤‡ä»½æœºåˆ¶

æ¯æ¬¡ä¿®æ”¹é…ç½®å‰è‡ªåŠ¨å¤‡ä»½ï¼š
- å¤‡ä»½æ–‡ä»¶åæ ¼å¼: `settings.json.backup.YYYYMMDD_HHMMSS`
- ä½ç½®: `~/.claude/settings.json.backup.20260128_165343`
- åŒ…å«å®Œæ•´é…ç½®å†…å®¹

## æ–‡ä»¶å˜æ›´æ¸…å•

| æ–‡ä»¶ | æ“ä½œ | è¯´æ˜ |
|------|------|------|
| `src/cc_statusline/config/__init__.py` | ä¿®æ”¹ | å¯¼å‡º ClaudeConfigInstaller |
| `src/cc_statusline/config/installer.py` | æ–°å»º | é…ç½®å®‰è£…å™¨æ ¸å¿ƒé€»è¾‘ (265 è¡Œ) |
| `src/cc_statusline/cli/commands.py` | ä¿®æ”¹ | æ·»åŠ  install/uninstall/verify å­å‘½ä»¤ |
| `tests/unit/test_installer.py` | æ–°å»º | å®‰è£…å™¨å•å…ƒæµ‹è¯• (17 ä¸ªæµ‹è¯•ç”¨ä¾‹) |

## é—ç•™é—®é¢˜ä¸æ”¹è¿›

### âœ… å·²è§£å†³
- âœ… ä»£ç è´¨é‡æ£€æŸ¥å…¨éƒ¨é€šè¿‡
- âœ… ç±»å‹æ£€æŸ¥æ— é”™è¯¯
- âœ… æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 86%
- âœ… å‘åå…¼å®¹æ€§ä¿æŒå®Œæ•´

### ğŸ”„ æœªæ¥æ”¹è¿›
1. **å‘½ä»¤æ£€æµ‹ä¼˜åŒ–**: å¯ä»¥æ·»åŠ ç¼“å­˜æœºåˆ¶é¿å…é‡å¤æ£€æµ‹
2. **é…ç½®éªŒè¯å¢å¼º**: å¯ä»¥æ·»åŠ æ›´å¤šé…ç½®é¡¹çš„åˆæ³•æ€§æ£€æŸ¥
3. **äº¤äº’å¼å®‰è£…**: å¯ä»¥æ·»åŠ äº¤äº’å¼é—®ç­”å¼•å¯¼ç”¨æˆ·é…ç½®
4. **é…ç½®è¿ç§»**: å¯ä»¥æ”¯æŒä»æ—§ç‰ˆæœ¬é…ç½®è¿ç§»åˆ°æ–°ç‰ˆæœ¬

## æ€»ç»“

âœ… **å®æ–½çŠ¶æ€**: å®Œæˆ
âœ… **æµ‹è¯•çŠ¶æ€**: é€šè¿‡ï¼ˆ19/19ï¼‰
âœ… **è´¨é‡æ£€æŸ¥**: é€šè¿‡ï¼ˆblack, ruff, mypyï¼‰
âœ… **åŠŸèƒ½éªŒè¯**: é€šè¿‡ï¼ˆæ‰‹åŠ¨æµ‹è¯•ï¼‰
âœ… **å‘åå…¼å®¹**: ä¿æŒ

å®æ–½å®Œæˆåï¼Œcc-statusline ç°å·²æ”¯æŒä¸€é”®å®‰è£…åˆ° Claude Codeï¼Œç”¨æˆ·ä½“éªŒå¤§å¹…æå‡ã€‚å‘å¸ƒåˆ° PyPI åï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ `uvx cc-statusline install` ä¸€è¡Œå‘½ä»¤å®Œæˆå®‰è£…é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ã€‚

---

**ä¸‹ä¸€æ­¥**: å‡†å¤‡å‘å¸ƒåˆ° PyPIï¼Œå¯ç”¨ uvx å®‰è£…æ–¹å¼
